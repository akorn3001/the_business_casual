{"version":3,"sources":["webpack:///./frontend/redux/util/route_util.js"],"names":["Auth","Component","component","path","loggedIn","currentUser","props","city_id","Admin","admin","mapStateToProps","Boolean","state","session","AuthRoute","AdminRoute"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AAGA;;AAEA,IAAMA,OAAO,SAAPA,IAAO;AAAA,MAAcC,SAAd,QAAGC,SAAH;AAAA,MAAyBC,IAAzB,QAAyBA,IAAzB;AAAA,MAA+BC,QAA/B,QAA+BA,QAA/B;AAAA,MAAyCC,WAAzC,QAAyCA,WAAzC;AAAA,SACX,8BAAC,qBAAD,IAAO,MAAMF,IAAb,EAAmB,QAAQ,gBAACG,KAAD,EAAW;AAClC,UAAI,CAACF,QAAL,EAAe;AACb,eAAS,8BAAC,SAAD,EAAeE,KAAf,CAAT;AACD,OAFD,MAEO,IAAID,YAAYE,OAAhB,EAAyB;AAC9B,eAAS,8BAAC,wBAAD,IAAU,iBAAeF,YAAYE,OAArC,GAAT;AACD,OAFM,MAEA;AACL,eAAS,8BAAC,wBAAD,IAAU,IAAG,SAAb,GAAT;AACD;AACJ,KARD,GADW;AAAA,CAAb;;AAYA;;AAEA,IAAMC,QAAQ,SAARA,KAAQ,QAA2D;AAAA,MAA7CP,SAA6C,SAAxDC,SAAwD;AAAA,MAAlCC,IAAkC,SAAlCA,IAAkC;AAAA,MAA5BC,QAA4B,SAA5BA,QAA4B;AAAA,MAAlBC,WAAkB,SAAlBA,WAAkB;;AACvE,SAAO,8BAAC,qBAAD,IAAO,MAAMF,IAAb,EAAmB,QAAQ,gBAACG,KAAD,EAAW;AACzC,UAAIF,YAAYC,YAAYI,KAA5B,EAAmC;AACjC,eAAO,8BAAC,SAAD,EAAeH,KAAf,CAAP;AACD,OAFD,MAEO;AACL,eAAO,8BAAC,wBAAD,IAAU,IAAG,QAAb,GAAP;AACD;AACF,KANI,GAAP;AAOD,CARD;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAMI,kBAAkB,SAAlBA,eAAkB,QAAS;AAC/B,SAAO,EAACN,UAAUO,QAAQC,MAAMC,OAAN,CAAcR,WAAtB,CAAX;AACCA,iBAAaO,MAAMC,OAAN,CAAcR,WAD5B,EAAP;AAED,CAHD;;AAKA;AACO,IAAMS,gCAAY,gCAAW,yBAAQJ,eAAR,EAAyB,IAAzB,EAA+BV,IAA/B,CAAX,CAAlB;;AAEP;AACO,IAAMe,kCAAa,gCAAW,yBAAQL,eAAR,EAAyB,IAAzB,EAA+BF,KAA/B,CAAX,CAAnB;;AAEP;AACA,uF","file":"main.17a6b7df38d97982ff2d.hot-update.js","sourcesContent":["import React from 'react';\nimport { Redirect, Route, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\n\n// renders component if logged out, otherwise redirects to the root url\n\nconst Auth = ({ component: Component, path, loggedIn, currentUser }) => (\n  <Route path={path} render={(props) => {\n      if (!loggedIn) {\n        return ( <Component {...props}/> )\n      } else if (currentUser.city_id) {\n        return ( <Redirect to={`/cities/${currentUser.city_id}`} /> )\n      } else {\n        return ( <Redirect to=\"/cities\" />)\n      }\n  }}/>\n);\n\n// renders component if logged in AND admin user\n\nconst Admin = ({ component: Component, path, loggedIn, currentUser }) => {\n  return <Route path={path} render={(props) => {\n      if (loggedIn && currentUser.admin) {\n        return <Component {...props} />\n      } else {\n        return <Redirect to=\"/login\" />\n      }\n    }} />\n};\n\n// renders component if logged in, otherwise redirects to the login page\n// const Protected = ({ component: Component, path, loggedIn }) => (\n//   <Route path={path} render={(props) => (\n//      loggedIn ? (\n//       <Component {...props}/>\n//     ) : (\n//       <Redirect to=\"/login\"/>\n//     )\n//   )}/>\n// );\n\n// access the Redux state to check if the user is logged in\nconst mapStateToProps = state => {\n  return {loggedIn: Boolean(state.session.currentUser),\n          currentUser: state.session.currentUser};\n}\n\n// connect Auth to the redux state\nexport const AuthRoute = withRouter(connect(mapStateToProps, null)(Auth));\n\n// connect Admin to the redux state\nexport const AdminRoute = withRouter(connect(mapStateToProps, null)(Admin));\n\n// connect Protected to the redux state\n// export const ProtectedRoute = withRouter(connect(mapStateToProps, null)(Protected));\n"],"sourceRoot":""}