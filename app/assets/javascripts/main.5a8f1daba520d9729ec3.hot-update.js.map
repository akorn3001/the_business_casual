{"version":3,"sources":["webpack:///./frontend/components/Presentational/article_form.jsx"],"names":["ArticleForm","props","state","title","body","imageFile","handleChange","bind","handleSaveForLater","handlePublish","handleQuill","handleFile","value","setState","attribute","e","preventDefault","target","formDataObject","FormData","append","requestCreateArticle","then","currentTarget","files","fileName","name","React","Component"],"mappings":"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","file":"main.5a8f1daba520d9729ec3.hot-update.js","sourcesContent":["import React from 'react';\nimport ReactQuill from 'react-quill';\nimport DOMPurify from 'dompurify';\n\nclass ArticleForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: \"\",\n      body: \"\",\n      imageFile: null\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSaveForLater = this.handleSaveForLater.bind(this);\n    this.handlePublish = this.handlePublish.bind(this);\n    this.handleQuill = this.handleQuill.bind(this);\n    this.handleFile = this.handleFile.bind(this);\n  }\n\n  handleQuill(value) {\n    this.setState({ body: value });\n  }\n\n  handleChange(attribute) {\n    return (e) => {\n      e.preventDefault();\n      this.setState({ [attribute]: e.target.value });\n    };\n  }\n\n  handlePublish(e) {\n    e.preventDefault();\n    const formDataObject = new FormData();\n    formDataObject.append('article[title]', this.state.title);\n    formDataObject.append('article[body]', this.state.body);\n    formDataObject.append('article[published]', true);\n\n    if (this.state.imageFile) {\n      formDataObject.append('article[image]', this.state.imageFile);\n    }\n\n    this.props.requestCreateArticle(formDataObject)\n    .then(() => {\n      this.setState({ title: \"\", body: \"\", imageFile: null });\n    });\n  }\n\n  handleSaveForLater(e) {\n    e.preventDefault();\n    const formDataObject = new FormData();\n    formDataObject.append('article[title]', this.state.title);\n    formDataObject.append('article[body]', this.state.body);\n\n    if (this.state.imageFile) {\n      formDataObject.append('article[image]', this.state.imageFile);\n    }\n\n    this.props.requestCreateArticle(formDataObject)\n    .then(() => {\n      this.setState({ title: \"\", body: \"\", imageFile: null });\n    });\n  }\n\n  handleFile(e) {\n    this.setState({ imageFile: e.currentTarget.files[0] });\n  }\n\n  render() {\n    let fileName;\n    fileName =\n    (this.state.imageFile ?\n      <span id=\"image-upload-message\">{this.state.imageFile.name} successfully attached</span>\n        : null);\n\n    return (\n      <div id=\"article-form\">\n        <h1>Create New Article</h1>\n        <form>\n          <div className=\"article-form-title\">\n            <label htmlFor=\"title\">Title: </label>\n            <input\n              onChange={this.handleChange('title')}\n              className=\"article-form-title-input\"\n              value={this.state.title}\n              name=\"title\"\n              type=\"text\"\n              placeholder=\"Add Title\"\n            />\n          </div>\n\n          <ReactQuill\n            className=\"quill-element\"\n            theme=\"snow\"\n            value={this.state.body}\n            onChange={this.handleQuill}\n            placeholder=\"Write your article here\"\n          />\n\n          <div className=\"article-form-submit-buttons\">\n            <input name=\"file-input\" id=\"file-input\" type=\"file\" accept=\"image/*\" onChange={this.handleFile}/>\n            <label className=\"file-input-label form-submit\" htmlFor=\"file-input\">Upload an Image!</label>\n            <button className=\"article-form-button form-submit\" onClick={this.handleSaveForLater}>Save for Later!</button>\n            <button className=\"article-form-button form-submit\" onClick={this.handlePublish}>Publish Article!</button>\n          </div>\n          {fileName}\n\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default ArticleForm;\n"],"sourceRoot":""}